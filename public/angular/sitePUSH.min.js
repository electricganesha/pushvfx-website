(function(){angular.module("sitePUSH",["ngRoute","ngSanitize","ui.bootstrap","anguvideo","ngMap"]);function e(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl"}).when("/portfolio",{templateUrl:"portfolio/portfolio.view.html",controller:"portfolioCtrl"}).when("/team",{templateUrl:"team/team.view.html",controller:"teamCtrl"}).when("/reel",{templateUrl:"reel/reel.view.html",controller:"reelCtrl"}).when("/contacts",{templateUrl:"/contacts/contacts.view.html",controller:"contactsCtrl"}).when("/timeline",{templateUrl:"/timeline/timeline.view.html",controller:"timelineCtrl"}).when("/news",{templateUrl:"/news/news.view.html",controller:"newsCtrl"}).when("/projects",{templateUrl:"/projects/projects.view.html",controller:"projectsCtrl"}).when("/disclaimer",{templateUrl:"/disclaimer/disclaimer.view.html",controller:"disclaimerCtrl"}).when("/lab",{templateUrl:"/lab/lab.view.html",controller:"labCtrl"}).when("/career",{templateUrl:"/career/career.view.html",controller:"careerCtrl"}).when("/whatwedo",{templateUrl:"/whatwedo/whatwedo.view.html",controller:"whatwedoCtrl"}).when("/category",{templateUrl:"/category/category.view.html",controller:"categoryCtrl"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("sitePUSH").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("sitePUSH").controller("homeCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,a){var o=new Array;o[0]="film1.jpg";o[1]="film2.jpg";o[2]="interactive_data.jpg";o[3]="film4.jpg";o[4]="Interactive.jpg";var n=new Array;n[0]="film3.jpg";n[1]="film5.jpg";n[2]="animation.jpg";n[3]="interactive1.jpg";n[4]="film.jpg";r(o,"");l(n,"");function r(t,a){a=a||"http://pushvfx.com:4000/pics/stills/";var o=Math.floor(Math.random()*t.length);var n=t[o];e.mainStill1=a+n}function l(t,a){a=a||"http://pushvfx.com:4000/pics/stills/";var o=Math.floor(Math.random()*t.length);var n=t[o];e.mainStill2=a+n}var i=0;var s=false;var c=$(window).width();if(c>1e3){$(window).scroll(function(e){if($(this).scrollTop()){var t=$(this).scrollTop();if(t>i){if(s==false){$("#cabecalho").animate({top:"-58px"});s=true}}else{if(s==true){$("#cabecalho").animate({top:"0px"},"fast","swing");s=false}}i=t}})}t.structuralInfo().then(function(t){e.homePageImage1=t.data.homePageImage1;e.homePageImage2=t.data.homePageImage2},function(t){e.message="Sorry, something's gone wrong, please try again later"});t.latestwork().then(function(t){e.bestprojects=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.saveId=function(e){a.set(e)};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("portfolioCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,a){var o="All";if(o=="All"){t.allPortfolio().then(function(t){e.category=o;e.portfolio=t;e.still="stillBigAll"},function(t){e.message="Sorry, something's gone wrong, please try again later"})}e.saveId=function(e){a.set(e)};e.selectMenu=function(a){if(a=="All"){t.allPortfolio().then(function(t){e.category=a;e.portfolio=t;e.still="stillBigAll"},function(t){e.message="Sorry, something's gone wrong, please try again later"})}else{t.portfolio(a).then(function(t){e.category=a;e.portfolio=t;switch(e.category){case"Film":e.still="stillBigFilm";break;case"Interactive":e.still="stillBigInteractive";break;case"Animation":e.still="stillBigAnimation";break}},function(t){e.message="Sorry, something's gone wrong, please try again later"})}};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("teamCtrl",e);e.$inject=["$scope","getData"];function e(e,t){t.getinstaphotos().then(function(t){e.instaphotos=t;e.$apply()},function(t){e.message="Sorry, something's gone wrong, please try again later"});t.teammembers().then(function(t){e.teammembers=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("reelCtrl",e);e.$inject=["$scope","getData"];function e(e,t){var a;t.reels().then(function(t){e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.selectMenu=function(a){if(a=="ALL"){t.reels().then(function(t){e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})}else{t.reelsByCat(a).then(function(t){e.category=a;e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})}};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("contactsCtrl",e);e.$inject=["$scope","getData","NgMap"];function e(e,t,a){a.getMap({id:"pushMap"}).then(function(t){e.map=t;e.map.styles=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#b8153a"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#ffffff"},{gamma:"10.00"},{lightness:"100"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"},{lightness:45},{hue:"#ff0000"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ff0000"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#000000"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#3e2a56"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{visibility:"on"},{saturation:"100"},{gamma:"6.51"},{weight:"5.00"},{color:"#d0cdcd"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"},{weight:"0.01"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#3e2a56"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"all",stylers:[{color:"#e5e5e5"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#eae9e9"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#b8153a"},{saturation:"-10"},{lightness:"24"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{color:"#e5e3e3"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ececec"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#b8153a"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#b8153a"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#a7a7a7"},{visibility:"on"}]}];e.map.setOptions({styles:e.map.styles})});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("timelineCtrl",e);e.$inject=["$scope","$compile","getData","saveNewsId"];function e(e,t,o,n){var r=new Array;var l=[];o.lastSixNews().then(function(t){e.lastNews=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});for(var s=2016;s<=(new Date).getFullYear();s++){o.newsByYear(s).then(function(t){for(i=0;i<t.data.length;i++){r[i]=t.data[i].dateOfEvent}e.News=t;l.push(r);r=[]},function(t){e.message="Sorry, something's gone wrong, please try again later"})}e.saveId=function(e){n.set(e)};e.showNew=function(t){o.newsByDate(t).then(function(t){e.newsByDate=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})};e.showError=function(t){e.$apply(function(){e.message=t.message})};setTimeout(function(){var e=0;for(a=2016;a<=(new Date).getFullYear();a++){u(a);c(l[e],a);e+=1}},1e3);function c(a,o){for(var n=0;n<a.length;n++){var r=g(a[n]);var l=document.createElement("a");l.id="newsLink";l.style.width="5px";l.style.height=$("#"+o).height()+"px";l.style.backgroundColor="white";l.style.position="absolute";var i=r*$("#"+o).width()/365-4;l.style.marginLeft=i+"px";l.style.cursor="pointer";l.setAttribute("ng-click","showNew('"+a[n]+"')");t(l)(e);document.getElementById(o).appendChild(l)}}function g(e){thisDate=new Date(e);var t=new Date(thisDate.getFullYear(),0,0);var a=thisDate-t;var o=1e3*60*60*24;var n=Math.floor(a/o);return n}function u(e){var t=document.getElementById("timeLines");var a=document.createElement("div");a.style.clear="both";a.style.margin="auto";a.style.width="70%";a.style.height="4vh";a.style.marginTop="10px";if(e%2==0){a.style.backgroundColor="#bb153a"}else{a.style.backgroundColor="#3e2a56"}var o=document.createElement("p");o.innerHTML=e;o.style.marginTop="10px";o.style.paddingLeft="15px";o.style.width="9%";o.style.float="left";o.style.color="white";o.style.fontFamily="myriadregular";o.style.fontSize="17px";o.style.letterSpacing="1px";var n=document.createElement("div");n.id=e;n.style.width="90%";n.style.float="right";n.style.height="4vh";a.appendChild(o);a.appendChild(n);t.appendChild(a)}}})();(function(){angular.module("sitePUSH").controller("newsCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,a){t.oneNew(a.get()).then(function(t){e.newTopTitle=t.data.topTitle;e.newTitle=t.data.title;e.newdescription=t.data.description;e.myInterval=1e4;e.slides=t.data.stills},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("projectsCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,a){e.twocolumn=false;e.sixcolumn=false;e.midPageDiv=false;e.midPagevideoShow=false;e.bottomPageDiv=false;t.projectById(a.get()).then(function(t){e.showCaseStill=t.data.showCaseStill;e.showCaseVideo=t.data.showCaseVideo;e.title=t.data.title;e.description1=t.data.description[0];e.description2=t.data.description[1];if(t.data.stills.length==2){e.twocolumn=true;e.projectstills=t.data.stills}else if(t.data.stills.length==6){e.sixcolumn=true;e.projectstillssix=t.data.stills}e.credits=t.data.credits;if(t.data.midPageStill!=""){if(t.data.midPageVideo!=""){e.midPageDiv=true;e.midPagevideoShow=true;e.midPageStill=t.data.midPageStill;e.midPageVideo=t.data.midPageVideo}else{e.midPageDiv=true;e.midPagevideoShow=false;e.midPageStill=t.data.midPageStill}}if(t.data.bottomPageStill!=""||t.data.bottomPagetext!=""){e.bottomPageDiv=true;e.bottomPageStill=t.data.bottomPageStill;e.bottomPagetext=t.data.bottomPagetext}e.links=t.data.links},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("disclaimerCtrl",e);e.$inject=["$scope","getData"];function e(e,t){e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("labCtrl",e);e.$inject=["$scope","getData"];function e(e,t){t.lab().then(function(t){e.lab=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("careerCtrl",e);e.$inject=["$scope","getData"];function e(e,t){e.showjobs=false;t.jobs().then(function(t){if(t.data.length!=0){e.showjobs=true;e.jobs=t;e.info1="Would you like to join PUSH?";e.info2="Send us your CV or give us a call. In the meanwhile, you can check our job openings below"}else{e.showjobs=false;e.info1="Would you like to join PUSH?";e.info2="Currently we have no open positions, but we’re always happy to receive your CV or your phone call, so don’t hesitate!"}},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("whatwedoCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,a){t.whatwedo().then(function(t){e.categories=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.saveId=function(e){a.set(e)};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("categoryCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,a){t.category(a.get()).then(function(t){e.title=t.data.title;e.description=t.data.description;e.myInterval=1e4;e.slides=t.data.stills;e.links=t.data.links},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.saveId=function(e){a.set(e)};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("sitePUSH").directive("pageFooter",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageFooter/pageFooter.template.html"}}})();(function(){angular.module("sitePUSH").service("getData",e);e.$inject=["$http"];function e(e){var t=function(){return e.get("/api/structuralInfo")};var a=function(){return e.get("/api/getBestProjects")};var o=function(){return e.get("/api/projects")};var n=function(t){return e.get("/api/getProjectsByCategory/"+t)};var r=function(){return e.get("/api/team")};var l=function(){return $.ajax({method:"GET",url:"https://api.instagram.com/v1/users/self/media/recent?access_token=1531248300.a24f5b9.559baeffc91f4ee8bef32d04378132bd",defaultHeaders:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Accept:"application/json"},dataType:"jsonp",success:function(e){},error:function(e){console.log("error ");console.log(e)}})};var i=function(){return e.get("/api/reels")};var s=function(t){return e.get("/api/getReelsByCategory/"+t)};var c=function(t){return e.get("/api/getnewsbyyear/"+t)};var g=function(){return e.get("/api/getlastsixnews")};var u=function(t){return e.get("/api/getnewsbydate/"+t)};var f=function(t){return e.get("/api/news/"+t)};var m=function(t){return e.get("/api/projects/"+t)};var p=function(){return e.get("/api/lab")};var y=function(){return e.get("/api/career")};var d=function(){return e.get("/api/categories")};var h=function(t){return e.get("/api/categories/"+t)};return{latestwork:a,portfolio:n,teammembers:r,getinstaphotos:l,reels:i,reelsByCat:s,newsByYear:c,lastSixNews:g,newsByDate:u,oneNew:f,projectById:m,lab:p,jobs:y,whatwedo:d,category:h,structuralInfo:t,allPortfolio:o}}})();(function(){angular.module("sitePUSH").service("saveNewsId",e);function e(){var e={};function t(t){e=t}function a(){return e}return{set:t,get:a}}})();