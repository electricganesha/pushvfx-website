(function(){angular.module("sitePUSH",["ngRoute","ngSanitize","ui.bootstrap","anguvideo","ngMap"]);function e(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl"}).when("/portfolio",{templateUrl:"portfolio/portfolio.view.html",controller:"portfolioCtrl"}).when("/team",{templateUrl:"team/team.view.html",controller:"teamCtrl"}).when("/reel",{templateUrl:"reel/reel.view.html",controller:"reelCtrl"}).when("/contacts",{templateUrl:"/contacts/contacts.view.html",controller:"contactsCtrl"}).when("/timeline",{templateUrl:"/timeline/timeline.view.html",controller:"timelineCtrl"}).when("/news",{templateUrl:"/news/news.view.html",controller:"newsCtrl"}).when("/projects",{templateUrl:"/projects/projects.view.html",controller:"projectsCtrl"});t.html5Mode({enabled:true,requireBase:false})}angular.module("sitePUSH").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("sitePUSH").controller("homeCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,n){t.latestwork().then(function(t){e.bestprojects=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.saveId=function(e){n.set(e)};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("portfolioCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,n){var o="Film";t.portfolio(o).then(function(t){e.category=o;e.portfolio=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.saveId=function(e){n.set(e)};e.selectMenu=function(n){t.portfolio(n).then(function(t){e.category=n;e.portfolio=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("teamCtrl",e);e.$inject=["$scope","getData"];function e(e,t){t.getinstaphotos().then(function(t){e.instaphotos=t;console.log(t);e.$apply()},function(t){e.message="Sorry, something's gone wrong, please try again later"});t.teammembers().then(function(t){e.teammembers=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("reelCtrl",e);e.$inject=["$scope","getData"];function e(e,t){var n;t.reels().then(function(t){e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.selectMenu=function(n){if(n=="ALL"){t.reels().then(function(t){e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})}else{t.reelsByCat(n).then(function(t){e.category=n;e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})}};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("contactsCtrl",e);e.$inject=["$scope","getData"];function e(e,t){e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("timelineCtrl",e);e.$inject=["$scope","$compile","getData","saveNewsId"];function e(e,t,n,o){var r=new Array;var s=[];n.lastSixNews().then(function(t){e.lastNews=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});for(var l=2016;l<=(new Date).getFullYear();l++){n.newsByYear(l).then(function(t){for(i=0;i<t.data.length;i++){r[i]=t.data[i].dateOfEvent}e.News=t;s.push(r);r=[]},function(t){e.message="Sorry, something's gone wrong, please try again later"})}e.saveId=function(e){o.set(e)};e.showNew=function(t){n.newsByDate(t).then(function(t){console.log(t);e.newsByDate=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})};e.showError=function(t){e.$apply(function(){e.message=t.message})};setTimeout(function(){var e=0;for(a=2016;a<=(new Date).getFullYear();a++){u(a);c(s[e],a);e+=1}},1e3);function c(n,o){for(var a=0;a<n.length;a++){var r=g(n[a]);var i=document.createElement("a");i.id="newsLink";i.style.width="5px";i.style.height=$("#"+o).height()+"px";i.style.backgroundColor="white";i.style.position="absolute";var s=r*$("#"+o).width()/365-4;i.style.marginLeft=s+"px";i.style.cursor="pointer";i.setAttribute("ng-click","showNew('"+n[a]+"')");t(i)(e);document.getElementById(o).appendChild(i)}}function g(e){thisDate=new Date(e);var t=new Date(thisDate.getFullYear(),0,0);var n=thisDate-t;var o=1e3*60*60*24;var a=Math.floor(n/o);return a}function u(e){var t=document.getElementById("timeLines");var n=document.createElement("div");n.style.clear="both";n.style.margin="auto";n.style.width="70%";n.style.height="4vh";n.style.marginTop="10px";if(e%2==0){n.style.backgroundColor="#bb153a"}else{n.style.backgroundColor="#3e2a56"}var o=document.createElement("p");o.innerHTML=e;o.style.marginTop="10px";o.style.paddingLeft="15px";o.style.width="9%";o.style.float="left";o.style.color="white";o.style.fontFamily="myriadregular";o.style.fontSize="17px";o.style.letterSpacing="1px";var a=document.createElement("div");a.id=e;a.style.width="90%";a.style.float="right";a.style.height="4vh";n.appendChild(o);n.appendChild(a);t.appendChild(n)}}})();(function(){angular.module("sitePUSH").controller("newsCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,n){t.oneNew(n.get()).then(function(t){console.log(t.data.stills);e.newTopTitle=t.data.topTitle;e.newTitle=t.data.title;e.newdescription=t.data.description;e.myInterval=1e4;e.slides=t.data.stills},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("projectsCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,n){e.twocolumn=false;e.sixcolumn=false;e.midPageDiv=false;e.midPagevideoShow=false;e.bottomPageDiv=false;t.projectById(n.get()).then(function(t){e.showCaseStill=t.data.showCaseStill;e.showCaseVideo=t.data.showCaseVideo;e.title=t.data.title;e.description1=t.data.description[0];e.description2=t.data.description[1];if(t.data.stills.length==2){e.twocolumn=true;e.projectstills=t.data.stills}else if(t.data.stills.length==6){e.sixcolumn=true;e.projectstillssix=t.data.stills}e.credits=t.data.credits;if(t.data.midPageStill!=""){if(t.data.midPageVideo!=""){e.midPageDiv=true;e.midPagevideoShow=true;e.midPageStill=t.data.midPageStill;e.midPageVideo=t.data.midPageVideo}else{e.midPageDiv=true;e.midPagevideoShow=false;e.midPageStill=t.data.midPageStill}}if(t.data.bottomPageStill!=""||t.data.bottomPagetext!=""){e.bottomPageDiv=true;e.bottomPageStill=t.data.bottomPageStill;e.bottomPageText=t.data.bottomPageText}},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("sitePUSH").directive("pageFooter",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageFooter/pageFooter.template.html"}}})();(function(){angular.module("sitePUSH").service("getData",e);e.$inject=["$http"];function e(e){var t=function(){return e.get("/api/getBestProjects")};var n=function(t){return e.get("/api/getProjectsByCategory/"+t)};var o=function(){return e.get("/api/team")};var a=function(){return $.ajax({method:"GET",url:"https://api.instagram.com/v1/users/self/media/recent?access_token=1531248300.a24f5b9.559baeffc91f4ee8bef32d04378132bd",defaultHeaders:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Accept:"application/json"},dataType:"jsonp",success:function(e){},error:function(e){console.log("error ");console.log(e)}})};var r=function(){return e.get("/api/reels")};var i=function(t){return e.get("/api/getReelsByCategory/"+t)};var s=function(t){return e.get("/api/getnewsbyyear/"+t)};var l=function(){return e.get("/api/getlastsixnews")};var c=function(t){return e.get("/api/getnewsbydate/"+t)};var g=function(t){return e.get("/api/news/"+t)};var u=function(t){return e.get("/api/projects/"+t)};return{latestwork:t,portfolio:n,teammembers:o,getinstaphotos:a,reels:r,reelsByCat:i,newsByYear:s,lastSixNews:l,newsByDate:c,oneNew:g,projectById:u}}})();(function(){angular.module("sitePUSH").service("saveNewsId",e);function e(){var e={};function t(t){e=t}function n(){return e}return{set:t,get:n}}})();