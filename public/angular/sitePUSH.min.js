(function(){angular.module("sitePUSH",["ngRoute","ngSanitize","ui.bootstrap","anguvideo","ngMap"]);function e(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl"}).when("/portfolio",{templateUrl:"portfolio/portfolio.view.html",controller:"portfolioCtrl"}).when("/team",{templateUrl:"team/team.view.html",controller:"teamCtrl"}).when("/reel",{templateUrl:"reel/reel.view.html",controller:"reelCtrl"}).when("/contacts",{templateUrl:"/contacts/contacts.view.html",controller:"contactsCtrl"}).when("/timeline",{templateUrl:"/timeline/timeline.view.html",controller:"timelineCtrl"}).when("/news",{templateUrl:"/news/news.view.html",controller:"newsCtrl"}).when("/projects",{templateUrl:"/projects/projects.view.html",controller:"projectsCtrl"}).when("/disclaimer",{templateUrl:"/disclaimer/disclaimer.view.html",controller:"disclaimerCtrl"}).when("/lab",{templateUrl:"/lab/lab.view.html",controller:"labCtrl"}).when("/career",{templateUrl:"/career/career.view.html",controller:"careerCtrl"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("sitePUSH").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("sitePUSH").controller("homeCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,o){var a=0;var n=false;var r=$(window).width();console.log(r);if(r>1e3){$(window).scroll(function(e){if($(this).scrollTop()){var t=$(this).scrollTop();if(t>a){if(n==false){$("#cabecalho").animate({top:"-58px"});n=true}}else{if(n==true){$("#cabecalho").animate({top:"0px"},"fast","swing");n=false}}a=t}})}t.latestwork().then(function(t){e.bestprojects=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.saveId=function(e){o.set(e)};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("portfolioCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,o){var a="Film";t.portfolio(a).then(function(t){e.category=a;e.portfolio=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.saveId=function(e){o.set(e)};e.selectMenu=function(o){t.portfolio(o).then(function(t){e.category=o;e.portfolio=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("teamCtrl",e);e.$inject=["$scope","getData"];function e(e,t){t.getinstaphotos().then(function(t){e.instaphotos=t;console.log(t);e.$apply()},function(t){e.message="Sorry, something's gone wrong, please try again later"});t.teammembers().then(function(t){e.teammembers=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("reelCtrl",e);e.$inject=["$scope","getData"];function e(e,t){var o;t.reels().then(function(t){e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.selectMenu=function(o){if(o=="ALL"){t.reels().then(function(t){e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})}else{t.reelsByCat(o).then(function(t){e.category=o;e.reels=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})}};e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("contactsCtrl",e);e.$inject=["$scope","getData","NgMap"];function e(e,t,o){o.getMap({id:"pushMap"}).then(function(t){e.map=t;e.map.styles=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#b8153a"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#ffffff"},{gamma:"10.00"},{lightness:"100"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"},{lightness:45},{hue:"#ff0000"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ff0000"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#000000"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#3e2a56"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{visibility:"on"},{saturation:"100"},{gamma:"6.51"},{weight:"5.00"},{color:"#d0cdcd"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"},{weight:"0.01"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#3e2a56"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"all",stylers:[{color:"#e5e5e5"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#eae9e9"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#b8153a"},{saturation:"-10"},{lightness:"24"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{color:"#e5e3e3"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ececec"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#b8153a"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#b8153a"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#a7a7a7"},{visibility:"on"}]}];e.map.setOptions({styles:e.map.styles})});console.log(e.mapOptions);e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("timelineCtrl",e);e.$inject=["$scope","$compile","getData","saveNewsId"];function e(e,t,o,n){var r=new Array;var l=[];o.lastSixNews().then(function(t){e.lastNews=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});for(var s=2016;s<=(new Date).getFullYear();s++){o.newsByYear(s).then(function(t){for(i=0;i<t.data.length;i++){r[i]=t.data[i].dateOfEvent}e.News=t;l.push(r);r=[]},function(t){e.message="Sorry, something's gone wrong, please try again later"})}e.saveId=function(e){n.set(e)};e.showNew=function(t){o.newsByDate(t).then(function(t){console.log(t);e.newsByDate=t},function(t){e.message="Sorry, something's gone wrong, please try again later"})};e.showError=function(t){e.$apply(function(){e.message=t.message})};setTimeout(function(){var e=0;for(a=2016;a<=(new Date).getFullYear();a++){g(a);c(l[e],a);e+=1}},1e3);function c(o,a){for(var n=0;n<o.length;n++){var r=u(o[n]);var l=document.createElement("a");l.id="newsLink";l.style.width="5px";l.style.height=$("#"+a).height()+"px";l.style.backgroundColor="white";l.style.position="absolute";var i=r*$("#"+a).width()/365-4;l.style.marginLeft=i+"px";l.style.cursor="pointer";l.setAttribute("ng-click","showNew('"+o[n]+"')");t(l)(e);document.getElementById(a).appendChild(l)}}function u(e){thisDate=new Date(e);var t=new Date(thisDate.getFullYear(),0,0);var o=thisDate-t;var a=1e3*60*60*24;var n=Math.floor(o/a);return n}function g(e){var t=document.getElementById("timeLines");var o=document.createElement("div");o.style.clear="both";o.style.margin="auto";o.style.width="70%";o.style.height="4vh";o.style.marginTop="10px";if(e%2==0){o.style.backgroundColor="#bb153a"}else{o.style.backgroundColor="#3e2a56"}var a=document.createElement("p");a.innerHTML=e;a.style.marginTop="10px";a.style.paddingLeft="15px";a.style.width="9%";a.style.float="left";a.style.color="white";a.style.fontFamily="myriadregular";a.style.fontSize="17px";a.style.letterSpacing="1px";var n=document.createElement("div");n.id=e;n.style.width="90%";n.style.float="right";n.style.height="4vh";o.appendChild(a);o.appendChild(n);t.appendChild(o)}}})();(function(){angular.module("sitePUSH").controller("newsCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,o){t.oneNew(o.get()).then(function(t){console.log(t.data.stills);e.newTopTitle=t.data.topTitle;e.newTitle=t.data.title;e.newdescription=t.data.description;e.myInterval=1e4;e.slides=t.data.stills},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("projectsCtrl",e);e.$inject=["$scope","getData","saveNewsId"];function e(e,t,o){e.twocolumn=false;e.sixcolumn=false;e.midPageDiv=false;e.midPagevideoShow=false;e.bottomPageDiv=false;t.projectById(o.get()).then(function(t){e.showCaseStill=t.data.showCaseStill;e.showCaseVideo=t.data.showCaseVideo;e.title=t.data.title;e.description1=t.data.description[0];e.description2=t.data.description[1];if(t.data.stills.length==2){e.twocolumn=true;e.projectstills=t.data.stills}else if(t.data.stills.length==6){e.sixcolumn=true;e.projectstillssix=t.data.stills}e.credits=t.data.credits;if(t.data.midPageStill!=""){if(t.data.midPageVideo!=""){e.midPageDiv=true;e.midPagevideoShow=true;e.midPageStill=t.data.midPageStill;e.midPageVideo=t.data.midPageVideo}else{e.midPageDiv=true;e.midPagevideoShow=false;e.midPageStill=t.data.midPageStill}}if(t.data.bottomPageStill!=""||t.data.bottomPagetext!=""){e.bottomPageDiv=true;e.bottomPageStill=t.data.bottomPageStill;e.bottomPagetext=t.data.bottomPagetext}e.links=t.data.links},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("disclaimerCtrl",e);e.$inject=["$scope","getData"];function e(e,t){e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("labCtrl",e);e.$inject=["$scope","getData"];function e(e,t){t.lab().then(function(t){e.lab=t},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").controller("careerCtrl",e);e.$inject=["$scope","getData"];function e(e,t){e.showjobs=false;t.jobs().then(function(t){if(t.data.length!=0){e.showjobs=true;e.jobs=t;e.info1="Would you like to join PUSH?";e.info2="Send us your CV or give us a call. In the meanwhile, you can check our job openings below"}else{e.showjobs=false;e.info1="Would you like to join PUSH?";e.info2="Currently we have no open positions, but we’re always happy to receive your CV or your phone call, so don’t hesitate!"}},function(t){e.message="Sorry, something's gone wrong, please try again later"});e.showError=function(t){e.$apply(function(){e.message=t.message})}}})();(function(){angular.module("sitePUSH").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("sitePUSH").directive("pageFooter",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageFooter/pageFooter.template.html"}}})();(function(){angular.module("sitePUSH").service("getData",e);e.$inject=["$http"];function e(e){var t=function(){return e.get("/api/getBestProjects")};var o=function(t){return e.get("/api/getProjectsByCategory/"+t)};var a=function(){return e.get("/api/team")};var n=function(){return $.ajax({method:"GET",url:"https://api.instagram.com/v1/users/self/media/recent?access_token=1531248300.a24f5b9.559baeffc91f4ee8bef32d04378132bd",defaultHeaders:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Accept:"application/json"},dataType:"jsonp",success:function(e){},error:function(e){console.log("error ");console.log(e)}})};var r=function(){return e.get("/api/reels")};var l=function(t){return e.get("/api/getReelsByCategory/"+t)};var i=function(t){return e.get("/api/getnewsbyyear/"+t)};var s=function(){return e.get("/api/getlastsixnews")};var c=function(t){return e.get("/api/getnewsbydate/"+t)};var u=function(t){return e.get("/api/news/"+t)};var g=function(t){return e.get("/api/projects/"+t)};var f=function(){return e.get("/api/lab")};var m=function(){return e.get("/api/career")};return{latestwork:t,portfolio:o,teammembers:a,getinstaphotos:n,reels:r,reelsByCat:l,newsByYear:i,lastSixNews:s,newsByDate:c,oneNew:u,projectById:g,lab:f,jobs:m}}})();(function(){angular.module("sitePUSH").service("saveNewsId",e);function e(){var e={};function t(t){e=t}function o(){return e}return{set:t,get:o}}})();